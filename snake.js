const _0x4a7a10=_0x58af;(function(_0x2c76dc,_0x179526){const _0x32ebc6=_0x58af,_0x5f5954=_0x2c76dc();while(!![]){try{const _0x4d6a41=-parseInt(_0x32ebc6(0x183))/0x1+parseInt(_0x32ebc6(0x187))/0x2*(parseInt(_0x32ebc6(0x189))/0x3)+parseInt(_0x32ebc6(0x15a))/0x4*(parseInt(_0x32ebc6(0x140))/0x5)+parseInt(_0x32ebc6(0x182))/0x6*(-parseInt(_0x32ebc6(0x16a))/0x7)+parseInt(_0x32ebc6(0x13c))/0x8*(parseInt(_0x32ebc6(0x188))/0x9)+-parseInt(_0x32ebc6(0x175))/0xa+parseInt(_0x32ebc6(0x171))/0xb;if(_0x4d6a41===_0x179526)break;else _0x5f5954['push'](_0x5f5954['shift']());}catch(_0x336fb8){_0x5f5954['push'](_0x5f5954['shift']());}}}(_0x3148,0xaefc6));var canvas=document[_0x4a7a10(0x152)](_0x4a7a10(0x13f)),ctx=canvas[_0x4a7a10(0x154)]('2d');const pi=3.1415926;function getDistance(_0xf6bd6c,_0x595b93){return((_0x595b93[0x0]-_0xf6bd6c[0x0])**0x2+(_0xf6bd6c[0x1]-_0x595b93[0x1])**0x2)**0.5;}function getAngle(_0x508b2f,_0x44d391){const _0x8362b6=_0x4a7a10;return Math[_0x8362b6(0x165)](_0x44d391[0x1]-_0x508b2f[0x1],_0x44d391[0x0]-_0x508b2f[0x0]);}function _0x3148(){const _0x1e822f=['skeleton','beginPath','keyup','42iunSvR','arrowup','keydown','currentLength','toString','fill','arrowleft','7716346kddyZN','segmentLength','fillRect','clientX','8733900myXkNi','move','innerHTML','random','clientY','sin','red','scoreDisplay','hitSegment','width','lineWidth','toLowerCase','hitFramesStreak','585006SYlZgZ','693838UZTpaz','angle','addEventListener','checkCollision','864092LEGUdP','59886OLqXjg','9CohETb','head','eat','log','hitFramesCurrent','rotate','152upJlGK','arc','fillStyle','canvas','65ofbbMz','arrowright','resetButton','blue','splice','height','lineTo','cos','color','key','left','drawSkeleton','push','black','radius','length','hitFramesNeeded','Score\x20','getElementById','white','getContext','dead','headLength','moveTo','top','reset','229208zuRsPF','stroke','setInterval','draw','yellow','strokeStyle','includes','speed','indexOf','buffer','trailLength','atan2','trail'];_0x3148=function(){return _0x1e822f;};return _0x3148();}function _0x58af(_0x7a2dfe,_0x3bedfe){const _0x3148b7=_0x3148();return _0x58af=function(_0x58af0d,_0x40bfb7){_0x58af0d=_0x58af0d-0x13a;let _0x2a719b=_0x3148b7[_0x58af0d];return _0x2a719b;},_0x58af(_0x7a2dfe,_0x3bedfe);}function segmentIntersection(_0xf228ec,_0x915857,_0x2aab77,_0x38b052){const _0x35180a=_0x4a7a10;let _0x566a64=(_0x38b052[0x0]-_0x2aab77[0x0])*(_0xf228ec[0x1]-_0x915857[0x1])-(_0xf228ec[0x0]-_0x915857[0x0])*(_0x38b052[0x1]-_0x2aab77[0x1]);if(_0x566a64!=0x0){let _0x12edc6=((_0x2aab77[0x1]-_0x38b052[0x1])*(_0xf228ec[0x0]-_0x2aab77[0x0])+(_0x38b052[0x0]-_0x2aab77[0x0])*(_0xf228ec[0x1]-_0x2aab77[0x1]))/_0x566a64,_0x39c4a3=((_0xf228ec[0x1]-_0x915857[0x1])*(_0xf228ec[0x0]-_0x2aab77[0x0])+(_0x915857[0x0]-_0xf228ec[0x0])*(_0xf228ec[0x1]-_0x2aab77[0x1]))/_0x566a64;return _0x12edc6>=0x0&&_0x12edc6<0x1&&_0x39c4a3>=0x0&&_0x39c4a3<0x1?(console[_0x35180a(0x18c)]('hit',_0x12edc6,_0x39c4a3),!![]):![];}else return;}const resetButton=document['getElementById'](_0x4a7a10(0x142)),scoreDisplay=document['getElementById'](_0x4a7a10(0x17c)),keys=[];var pause=![];document['addEventListener'](_0x4a7a10(0x16c),_0x50aa12=>{const _0x44fb6e=_0x4a7a10,_0x445a71=_0x50aa12['key'][_0x44fb6e(0x180)]();!keys[_0x44fb6e(0x160)](_0x445a71)&&keys[_0x44fb6e(0x14c)](_0x445a71),keys[_0x44fb6e(0x160)]('p')&&(pause=!pause),keys['includes']('s')&&(snake['skeleton']=!snake['skeleton']);}),document['addEventListener'](_0x4a7a10(0x169),_0xe4fe73=>{const _0x31cd95=_0x4a7a10,_0x11bc10=_0xe4fe73[_0x31cd95(0x149)][_0x31cd95(0x180)]();if(keys[_0x31cd95(0x160)](_0x11bc10)){const _0x1474e1=keys[_0x31cd95(0x162)](_0x11bc10);keys[_0x31cd95(0x144)](_0x1474e1,0x1);}});class Snake{constructor(_0x2f89ec,_0x3c9d54,_0x3804d9){const _0x3a5b31=_0x4a7a10;this['x']=_0x2f89ec,this['y']=_0x3c9d54,this[_0x3a5b31(0x184)]=_0x3804d9,this[_0x3a5b31(0x161)]=0x2,this[_0x3a5b31(0x155)]=![],this[_0x3a5b31(0x148)]=_0x3a5b31(0x17b),this[_0x3a5b31(0x156)]=0xa,this[_0x3a5b31(0x18a)]=[[this['x'],this['y']],[this['x']+Math[_0x3a5b31(0x147)](this[_0x3a5b31(0x184)])*this[_0x3a5b31(0x156)],this['y']+Math[_0x3a5b31(0x17a)](this[_0x3a5b31(0x184)])*this[_0x3a5b31(0x156)]]],this['trail']=[],this[_0x3a5b31(0x164)]=0xf,this[_0x3a5b31(0x172)]=0x5,this[_0x3a5b31(0x16d)]=0x0,this[_0x3a5b31(0x17d)]=undefined,this[_0x3a5b31(0x150)]=0x1,this[_0x3a5b31(0x13a)]=0x0,this[_0x3a5b31(0x181)]=![],this[_0x3a5b31(0x167)]=![],scoreDisplay['innerHTML']=_0x3a5b31(0x151)+this['trailLength']['toString']();}['move'](){const _0x5ec468=_0x4a7a10;let _0x4876d1=Math[_0x5ec468(0x147)](this['angle'])*this['speed'],_0x5139b6=Math['sin'](this[_0x5ec468(0x184)])*this['speed'];this['x']+=_0x4876d1,this['y']+=_0x5139b6,this['head']=[[this['x'],this['y']],[this['x']+Math['cos'](this[_0x5ec468(0x184)])*this[_0x5ec468(0x156)],this['y']+Math[_0x5ec468(0x17a)](this[_0x5ec468(0x184)])*this['headLength']]],this[_0x5ec468(0x16d)]<this[_0x5ec468(0x172)]?this[_0x5ec468(0x16d)]+=this['speed']:(this['trail']['push']([this['x'],this['y']]),this['currentLength']=0x0,this[_0x5ec468(0x166)]['length']>this[_0x5ec468(0x164)]&&this[_0x5ec468(0x166)][_0x5ec468(0x144)](0x0,0x1));}[_0x4a7a10(0x13b)](_0x1b0f9d){this['angle']+=_0x1b0f9d;}['checkCollision'](_0x51a307,_0x50a207){const _0x2f891b=_0x4a7a10;this[_0x2f891b(0x148)]=_0x2f891b(0x17b);for(var _0x7a8612=0x0;_0x7a8612<_0x50a207[_0x2f891b(0x14f)];_0x7a8612++){var _0x256b52=getDistance(this[_0x2f891b(0x18a)][0x0],[_0x50a207[_0x7a8612]['x'],_0x50a207[_0x7a8612]['y']]);if(_0x256b52<this['headLength']+_0x50a207[_0x7a8612][_0x2f891b(0x14e)]){_0x50a207[_0x7a8612][_0x2f891b(0x18b)](),this[_0x2f891b(0x164)]+=0x3,scoreDisplay['innerHTML']=_0x2f891b(0x151)+this[_0x2f891b(0x164)][_0x2f891b(0x16e)]();break;}}for(var _0x7a8612=0x0;_0x7a8612<_0x51a307[_0x2f891b(0x14f)];_0x7a8612++){var _0xd79b64=_0x51a307[_0x7a8612],_0x495af9=segmentIntersection(this[_0x2f891b(0x18a)][0x0],this[_0x2f891b(0x18a)][0x1],_0xd79b64[0x0],_0xd79b64[0x1]);_0x495af9&&(_0x495af9&&(this['color']='yellow',this[_0x2f891b(0x155)]=!![]));}for(var _0x7a8612=0x0;_0x7a8612<this[_0x2f891b(0x166)][_0x2f891b(0x14f)]-0xa;_0x7a8612++){var _0x3a3ce5=[this['trail'][_0x7a8612],this[_0x2f891b(0x166)][_0x7a8612+0x1]],_0x495af9=segmentIntersection(this[_0x2f891b(0x18a)][0x0],this[_0x2f891b(0x18a)][0x1],_0x3a3ce5[0x0],_0x3a3ce5[0x1]);if(_0x495af9){this[_0x2f891b(0x13a)]==this[_0x2f891b(0x150)]?(console['log'](this[_0x2f891b(0x13a)],this[_0x2f891b(0x150)]),this[_0x2f891b(0x148)]=_0x2f891b(0x15e),this[_0x2f891b(0x155)]=!![],this[_0x2f891b(0x17d)]=_0x7a8612):(this[_0x2f891b(0x13a)]+=0x1,console[_0x2f891b(0x18c)](this[_0x2f891b(0x13a)]));return;}}this[_0x2f891b(0x13a)]=0x0;}[_0x4a7a10(0x15d)](){const _0xc46768=_0x4a7a10;ctx[_0xc46768(0x168)](),ctx[_0xc46768(0x13d)](this['x'],this['y'],0x5,0x0,0x2*Math['PI'],![]),ctx['fillStyle']=_0xc46768(0x153),ctx['fill'](),ctx[_0xc46768(0x168)](),ctx['lineWidth']=0x1,ctx['strokeStyle']=this['color'],ctx[_0xc46768(0x157)](this[_0xc46768(0x18a)][0x0][0x0],this[_0xc46768(0x18a)][0x0][0x1]),ctx[_0xc46768(0x146)](this[_0xc46768(0x18a)][0x1][0x0],this['head'][0x1][0x1]),ctx[_0xc46768(0x15b)]();for(var _0x3ff4cb=0x1;_0x3ff4cb<this[_0xc46768(0x166)][_0xc46768(0x14f)]-0x1;_0x3ff4cb++){let _0x4e8973=this[_0xc46768(0x166)][_0x3ff4cb],_0x3eaf98=this[_0xc46768(0x166)][_0x3ff4cb+0x1];ctx[_0xc46768(0x168)](),ctx[_0xc46768(0x17f)]=0xa,ctx[_0xc46768(0x15f)]=_0xc46768(0x153),ctx['moveTo'](_0x4e8973[0x0],_0x4e8973[0x1]),ctx[_0xc46768(0x146)](_0x3eaf98[0x0],_0x3eaf98[0x1]),ctx[_0xc46768(0x15b)](),ctx['beginPath'](),ctx[_0xc46768(0x13d)](_0x4e8973[0x0],_0x4e8973[0x1],0x5,0x0,0x2*Math['PI'],![]),ctx[_0xc46768(0x13e)]=_0xc46768(0x153),ctx[_0xc46768(0x16f)]();}if(this['trail'][_0xc46768(0x14f)]>0x0){let _0x4b2dea=this[_0xc46768(0x166)][this[_0xc46768(0x166)]['length']-0x1];ctx[_0xc46768(0x168)](),ctx[_0xc46768(0x17f)]=0xa,ctx[_0xc46768(0x15f)]='white',ctx['moveTo'](_0x4b2dea[0x0],_0x4b2dea[0x1]),ctx[_0xc46768(0x146)](this['x'],this['y']),ctx[_0xc46768(0x15b)](),ctx['beginPath'](),ctx[_0xc46768(0x13d)](_0x4b2dea[0x0],_0x4b2dea[0x1],0x5,0x0,0x2*Math['PI'],![]),ctx['fillStyle']='white',ctx[_0xc46768(0x16f)]();}if(this[_0xc46768(0x166)]['length']>0x1){let _0x3257a0=this['trail'][0x0],_0x287260=getAngle(this[_0xc46768(0x166)][0x1],_0x3257a0),_0x186e4a=this['segmentLength']-this['currentLength'],_0x34f558=Math[_0xc46768(0x147)](_0x287260)*_0x186e4a+this['trail'][0x1][0x0],_0x26726f=Math[_0xc46768(0x17a)](_0x287260)*_0x186e4a+this[_0xc46768(0x166)][0x1][0x1];ctx[_0xc46768(0x168)](),ctx[_0xc46768(0x17f)]=0xa,ctx['strokeStyle']='white',ctx[_0xc46768(0x157)](this[_0xc46768(0x166)][0x1][0x0],this[_0xc46768(0x166)][0x1][0x1]),ctx[_0xc46768(0x146)](_0x34f558,_0x26726f),ctx[_0xc46768(0x15b)](),ctx[_0xc46768(0x168)](),ctx[_0xc46768(0x13d)](_0x34f558,_0x26726f,0x5,0x0,0x2*Math['PI'],![]),ctx[_0xc46768(0x13e)]=_0xc46768(0x153),ctx[_0xc46768(0x16f)]();}}[_0x4a7a10(0x14b)](){const _0x43643f=_0x4a7a10;ctx[_0x43643f(0x168)](),ctx[_0x43643f(0x13d)](this['x'],this['y'],0x5,0x0,0x2*Math['PI'],![]),ctx['fillStyle']=_0x43643f(0x153),ctx[_0x43643f(0x16f)](),ctx['beginPath'](),ctx['lineWidth']=0x1,ctx[_0x43643f(0x15f)]=this[_0x43643f(0x148)],ctx['moveTo'](this[_0x43643f(0x18a)][0x0][0x0],this[_0x43643f(0x18a)][0x0][0x1]),ctx['lineTo'](this[_0x43643f(0x18a)][0x1][0x0],this['head'][0x1][0x1]),ctx[_0x43643f(0x15b)]();let _0x144d19=[_0x43643f(0x15e),_0x43643f(0x17b)],_0x393f0f=0x0;for(var _0x45a126=0x1;_0x45a126<this[_0x43643f(0x166)][_0x43643f(0x14f)]-0x1;_0x45a126++){let _0x484b5d=this[_0x43643f(0x166)][_0x45a126],_0x18abc3=this['trail'][_0x45a126+0x1];ctx[_0x43643f(0x168)](),ctx['lineWidth']=0x2,ctx[_0x43643f(0x15f)]=_0x144d19[_0x393f0f],_0x45a126==this[_0x43643f(0x17d)]&&(ctx[_0x43643f(0x15f)]=_0x43643f(0x143)),ctx[_0x43643f(0x157)](_0x484b5d[0x0],_0x484b5d[0x1]),ctx[_0x43643f(0x146)](_0x18abc3[0x0],_0x18abc3[0x1]),ctx[_0x43643f(0x15b)](),_0x393f0f+=0x1,_0x393f0f%=0x2;}}[_0x4a7a10(0x159)](){const _0x59324c=_0x4a7a10;this[_0x59324c(0x155)]=![],this['hitSegment']=undefined,this['trail']=[],this[_0x59324c(0x164)]=0xf,this[_0x59324c(0x16d)]=0x0,this[_0x59324c(0x184)]=0x0,this['x']=0xc8,this['y']=0xc8,scoreDisplay[_0x59324c(0x177)]='Score\x20'+this[_0x59324c(0x164)][_0x59324c(0x16e)]();}}const apples=[];class Apple{constructor(_0x3b728b,_0x1ad1f3,_0x150434){const _0x2e9ad1=_0x4a7a10;apples[_0x2e9ad1(0x14c)](this),this['x']=_0x3b728b,this['y']=_0x1ad1f3,this[_0x2e9ad1(0x14e)]=0x7,this[_0x2e9ad1(0x163)]=_0x150434;}['draw'](){const _0xeb2bb0=_0x4a7a10;ctx[_0xeb2bb0(0x168)](),ctx[_0xeb2bb0(0x13d)](this['x'],this['y'],this[_0xeb2bb0(0x14e)],0x0,0x2*Math['PI'],![]),ctx['fillStyle']=_0xeb2bb0(0x17b),ctx[_0xeb2bb0(0x16f)]();}[_0x4a7a10(0x18b)](){const _0x4aca28=_0x4a7a10;let _0x56528c=apples[_0x4aca28(0x162)](this);apples[_0x4aca28(0x144)](_0x56528c,0x1);let _0x4b0ea9=0x19+Math[_0x4aca28(0x178)]()*(canvas['width']-0x32),_0x5ace8d=0x19+Math[_0x4aca28(0x178)]()*(canvas[_0x4aca28(0x145)]-0x32);new Apple(_0x4b0ea9,_0x5ace8d);}}function getMousePos(_0x5097a2,_0x1e90a8){const _0xd34639=_0x4a7a10;var _0x473e87=0x5,_0x1204b2=_0x5097a2['getBoundingClientRect']();return{'x':_0x1e90a8[_0xd34639(0x174)]-_0x1204b2[_0xd34639(0x14a)]-_0x473e87,'y':_0x1e90a8[_0xd34639(0x179)]-_0x1204b2[_0xd34639(0x158)]-_0x473e87};}const snake=new Snake(0xc8,0xc8,0x0),buffer=0xa,borders=[[[buffer,buffer],[canvas[_0x4a7a10(0x17e)]-buffer,buffer]],[[canvas[_0x4a7a10(0x17e)]-buffer,buffer],[canvas[_0x4a7a10(0x17e)]-buffer,canvas[_0x4a7a10(0x145)]-buffer]],[[canvas['width']-buffer,canvas[_0x4a7a10(0x145)]-buffer],[buffer,canvas[_0x4a7a10(0x145)]-buffer]],[[buffer,canvas[_0x4a7a10(0x145)]-buffer],[buffer,buffer]]];let x=0x19+Math[_0x4a7a10(0x178)]()*(canvas[_0x4a7a10(0x17e)]-0x32),y=0x19+Math[_0x4a7a10(0x178)]()*(canvas[_0x4a7a10(0x145)]-0x32);new Apple(x,y,buffer),resetButton[_0x4a7a10(0x185)]('click',_0x12af7a=>{snake['reset']();});function drawWindow(){const _0x1e694f=_0x4a7a10;var _0x5ab551=canvas[_0x1e694f(0x154)]('2d');_0x5ab551['fillStyle']=_0x1e694f(0x14d),_0x5ab551[_0x1e694f(0x173)](0x0,0x0,canvas['width'],canvas[_0x1e694f(0x145)]);for(var _0x252ffe=0x0;_0x252ffe<borders['length'];_0x252ffe++){b=borders[_0x252ffe],_0x5ab551[_0x1e694f(0x168)](),_0x5ab551[_0x1e694f(0x17f)]=0x1,_0x5ab551[_0x1e694f(0x15f)]=_0x1e694f(0x153),_0x5ab551[_0x1e694f(0x157)](b[0x0][0x0],b[0x0][0x1]),_0x5ab551[_0x1e694f(0x146)](b[0x1][0x0],b[0x1][0x1]),_0x5ab551[_0x1e694f(0x15b)]();}for(var _0x252ffe=0x0;_0x252ffe<apples[_0x1e694f(0x14f)];_0x252ffe++){apples[_0x252ffe][_0x1e694f(0x15d)]();}snake[_0x1e694f(0x167)]?snake[_0x1e694f(0x14b)]():snake[_0x1e694f(0x15d)]();}var count=0x0;function loop(){const _0x12b3ef=_0x4a7a10;window[_0x12b3ef(0x15c)](function(){const _0x14476b=_0x12b3ef;!pause&&!snake[_0x14476b(0x155)]&&(snake[_0x14476b(0x176)](),snake[_0x14476b(0x186)](borders,apples)),(keys[_0x14476b(0x160)](_0x14476b(0x141))||keys[_0x14476b(0x160)]('d'))&&snake[_0x14476b(0x13b)](0.07),(keys[_0x14476b(0x160)](_0x14476b(0x170))||keys['includes']('a'))&&snake['rotate'](-0.07),keys[_0x14476b(0x160)](_0x14476b(0x16b))||keys['includes']('w')?snake['speed']=0x4:snake[_0x14476b(0x161)]=0x2,drawWindow();},0x3e8/0x3c);}loop();